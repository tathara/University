<!DOCTYPE html>
<html lang="ru">

<head>
    <link rel="stylesheet" href="assets/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
    <title>В поисках свежести</title>
</head>

<body>
    <header>
        <section class="header__inner">
            <a href="index5.html"><img class="nav__button" src="assets/images/reversed__arrow.jpg"
                    alt="Перейти на предыдущую страницу"></a>
            <nav>
                <a class="nav__link" href="https://www.youtube.com/watch?v=8ybW48rKBME&ab_channel=xyzmusic">Главная</a>
                <a class="nav__link" href="https://www.youtube.com/watch?v=FyPBWRp84jg">Статьи</a>
                <a class="nav__link" href="https://www.youtube.com/watch?v=xVgY929D5P8">Контакты</a>
                <a class="nav__link" href="https://www.youtube.com/watch?v=KTfyGVI9Yxc">О нас</a>
                <a href="index7.html"><img class="nav__button" src="assets/images/arrow.jpg"
                        alt="Перейти на следующую страницу"></a>
            </nav>
        </section>
    </header>

    <main>
        <section class="content">
            <h2>Измеряем качество</h2>
            <div class="columned__content" style="font-size: 0.87rem;">

                <p>Общий подход к оптимизации качества поиска начинается с выбора метрики. В поиске картинок Яндекса вид
                    метрики примерно такой:</p>

                <p>
                    <math>
                        <munderover accent='false' accentunder='false'>
                            <mo>&#x2211;</mo>
                            <mrow>
                                <mi>i</mi>
                                <mo>=</mo>
                                <mn>0</mn>
                            </mrow>
                            <mi>n</mi>
                        </munderover>
                        <msub>
                            <mi>p</mi>
                            <mi>i</mi>
                        </msub>
                        <mo>&#xd7;</mo>
                        <mo>(</mo>
                        <msub>
                            <mi>r</mi>
                            <mi>i</mi>
                        </msub>
                        <mo>+</mo>
                        <mi>f</mi>
                        <mo>(</mo>
                        <msub>
                            <mi>w</mi>
                            <mi>i</mi>
                        </msub>
                        <mo>,</mo>
                        <mo>.</mo>
                        <mo>.</mo>
                        <mo>.</mo>
                        <mo>,</mo>
                        <msub>
                            <mi>m</mi>
                            <mi>i</mi>
                        </msub>
                        <mo>)</mo>
                        <mo>)</mo>
                    </math>,
                <p>где
                    <br>n — это количество первых картинок (документов) выдачи, которые мы оцениваем;
                    <br>p<sub>i</sub> — вес позиции в выдаче (чем выше позиция, тем больше вес);
                    <br>r<sub>i</sub> — релевантность (насколько точно картинка соответствует запросу);
                    <br>w<sub>i</sub> … m<sub>i </sub>— прочие компоненты качества ответа (свежесть, красота,
                    размер...);
                    <br>f(...) — модель, которая агрегирует эти компоненты.</p>
                </p>

                <p>Проще говоря, чем выше в выдаче будут более полезные картинки, тем больше сумма в этом выражении.</p>

                <p>Несколько слов о модели f(...). Она обучается на попарном сравнении картинок толокерами. Человек
                    видит запрос и две картинки, а затем выбирает лучшую. Если повторить это много-много раз, то модель
                    научится предсказывать, какой компонент качества наиболее важен для конкретного запроса.</p>

                <p>К примеру, если запрос о свежих фотографиях чёрной дыры — то наибольший коэффициент у компонента
                    свежести. А если о тропическом острове — то у красоты, потому что мало кто ищет любительские
                    фотографии страшненьких островов, обычно нужны именно привлекательные картинки. Чем визуально лучше
                    выглядит выдача картинок в таких случаях, тем больше вероятность, что человек продолжит пользоваться
                    сервисом. Но не будем отвлекаться на это.</p>

                <p>Итак, задача алгоритмов ранжирования — оптимизировать эту метрику. Но нельзя оценивать все миллионы
                    ежедневных запросов: это огромная нагрузка, причём в первую очередь на толокеров. Поэтому для
                    контроля качества мы выделяем случайную выборку (корзину) за фиксированный промежуток времени.</p>

                <p>Казалось бы, есть метрика, в которой уже учтён компонент свежести, и есть выборка запросов для
                    контроля качества. Можно на этом закрыть тему и перейти к ранжированию. Но нет.</p>

                <p>В случае свежих картинок возникает проблема. При оценке алгоритмов мы должны уметь понимать, что
                    хорошо отвечаем на запрос пользователя именно в тот момент, когда запрос и вводится в поиске.
                    Прошлогодний свежий запрос может не быть таковым сейчас. И хорошим ответом на него станет что-то
                    другое. Поэтому фиксированная корзина запросов (например, за год) не подходит.</p>

                <p>В качестве первого подхода к решению этой проблемы мы попробовали обойтись совсем без корзины. По
                    определённой логике мы стали подмешивать в выдачу свежие картинки, а затем изучали поведение
                    пользователей. Если оно менялось в лучшую сторону (например, люди активнее кликали по результатам) —
                    значит, подмешивание было полезным. Но у такого подхода есть изъян: оценка качества напрямую
                    зависела от качества наших алгоритмов. Например, если по какому-то запросу наш алгоритм не справится
                    и не подмешает контент, то и сравнивать будет нечего, а значит, мы не поймём, нужен ли был там
                    свежий контент. Так мы пришли к пониманию, что требуется независимая система оценки, которая будет
                    показывать текущее качество работы наших алгоритмов и не зависеть от них.</p>

                <p> Наш подход заключался в следующем. Да, мы не можем использовать фиксированную корзину из-за
                    изменчивости свежих запросов. Но мы можем оставить за базу ту часть корзины, для которой нет
                    требований по свежести, а свежую часть доливать туда ежедневно. Для этого мы создали алгоритм,
                    выделяющий в потоке пользовательских запросов те, на которые с высокой вероятностью требуется ответ
                    со свежими картинками. У таких запросов обычно неожиданно меняется частность. Конечно же, мы
                    используем ручную валидацию, чтобы отсеять шум и мусор и учесть особые ситуации. К примеру, запрос
                    может быть актуален только для определённой страны. В этом случае нам помогают уже не толокеры, а
                    асессоры: такая работа требует особого опыта и знаний. При этом мы не только добавляем такие свежие
                    запросы в корзину для оценки качества, но и сохраняем результаты нашего поиска в момент обнаружения
                    запросов. Так мы можем оценить не только первичное качество ответа, но и то, насколько быстро наш
                    поиск среагировал на событие.</p>

                <p>Итак, подведём предварительные итоги. Чтобы хорошо отвечать на свежие запросы, мы не только
                    обеспечили быструю доставку до поиска и обработку картинок, но и переизобрели способ оценки
                    качества. Осталось разобраться с тем, качество чего мы измеряем.</p>
            </div>
        </section>
    </main>

    <footer>
        <p>© Яндекс, help@yandex.ru, Хохрякова, 10</p>
    </footer>
</body>

</html>