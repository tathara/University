<!DOCTYPE html>
<html lang="ru">

<head>
    <link rel="stylesheet" href="assets/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
    <title>В поисках свежести</title>
</head>

<body>
    <header>
        <section class="header__inner">
            <a href="index4.html"><img class="nav__button" src="assets/images/reversed__arrow.jpg"
                    alt="Перейти на предыдущую страницу"></a>
            <nav>
                <a class="nav__link" href="https://www.youtube.com/watch?v=8ybW48rKBME&ab_channel=xyzmusic">Главная</a>
                <a class="nav__link" href="https://www.youtube.com/watch?v=FyPBWRp84jg">Статьи</a>
                <a class="nav__link" href="https://www.youtube.com/watch?v=xVgY929D5P8">Контакты</a>
                <a class="nav__link" href="https://www.youtube.com/watch?v=KTfyGVI9Yxc">О нас</a>
                <a href="index6.html"><img class="nav__button" src="assets/images/arrow.jpg"
                        alt="Перейти на следующую страницу"></a>
            </nav>
        </section>
    </header>

    <main>
        <section class="content">
            <h2 class="text__subtitle">Собираем картинки в документы</h2>

            <p>Документ — это наше название сущности, которая участвует в ранжировании. Со стороны пользователя это
                может выглядеть как ссылка на страницу (поиск по сайтам), картинка (поиск картинок), ролик (поиск
                видео), кофеварка (поиск товаров), что-то ещё. Но внутри за каждой единицей в выдаче поиска скрывается
                целый букет разнородной информации. В нашем случае — не только сама картинка, её нейросетевые и прочие
                фичи, но и сведения о страницах, где она помещена, тексты, которые на этих страницах её описывают,
                статистика поведения пользователей (например, клики по картинке). Всё вместе — это и есть документ. И,
                прежде чем перейти непосредственно к поиску, документ нужно собрать. И механизм формирования обычной
                поисковой базы картинок здесь не подходит.</p>

            <p>Основной вызов в том, что разные компоненты документа формируются в разное время и в разных местах.
                Сведения о страницах и текстах может загрузить тот же самый Logbroker, но не одновременно с картинками.
                Данные о поведении пользователей в реалтайме поступают через систему обработки логов <a
                    title="Технология Real Time MapReduce"
                    href="https://habr.com/ru/companies/yandex/articles/189362/">RTMR</a>. И всё это хранится независимо
                от картинок. Чтобы собрать документ, нужно последовательно обойти разные источники данных.</p>

            <p>Для формирования основной поисковой базы картинок мы используем MapReduce. Это эффективный, надёжный
                способ работы с огромными массивами данных. Но для задачи свежести он не подходит: нам требуется очень
                быстро получать из хранилища все необходимые для формирования каждого документа данные, что не
                соответствует MapReduce. Поэтому в контуре свежести мы используем другой способ: разнородная информация
                приходит в систему потоковой обработки данных RTRobot, которая использует <abbr
                    title="Key Visual">KV</abbr>-хранилища для синхронизации разных потоков обработки данных и
                отказоустойчивости.</p>

            <p>В контуре свежести в качестве <abbr title="Key Visual">KV</abbr>-хранилища мы используем динамические
                таблицы на базе нашей системы <a
                    title="«Ыть», основная платформа для хранения и обработки больших объемов данных"
                    href="https://habr.com/ru/companies/yandex/articles/311104/">YT</a>. По сути, это хранилище всего
                контента, который может нам понадобиться. С очень быстрым доступом. Именно оттуда мы оперативно
                запрашиваем всё, что может пригодиться для поиска картинок, собираем документы и с помощью LogBroker’а
                передаём их на поисковые серверы, откуда подготовленные данные добавляются в поисковую базу. Благодаря
                отдельному контуру для работы со свежестью, который охватывает все этапы (от поиска картинок в сети до
                подготовки документов), нам удаётся обрабатывать сотни новых картинок в секунду и доставлять их до
                поиска в среднем за несколько минут с появления.</p>

            <p>Но довести картинки до поиска недостаточно. Нужно суметь показать их в результатах поиска тогда, когда
                они полезны. И здесь мы переходим к следующему этапу — к определению полезности. Передаю слово Дмитрию
                <a href="https://habr.com/ru/users/krivokon/">@krivokon</a>.</p>
        </section>
    </main>

    <footer>
        <p>© Яндекс, help@yandex.ru, Хохрякова, 10</p>
    </footer>
</body>

</html>